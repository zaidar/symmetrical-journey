<!DOCTYPE html>
<html>
  <head>

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="./css/bootstrap.min.css" rel="stylesheet">
<title>NDTU racket</title>

<!-- Custom styles for this template -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/idea.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-highlighttextarea/3.1.3/jquery.highlighttextarea.min.css" integrity="sha256-FwmgIAfUzLr1c/hKXFUQMSwzgkfJUD1ow04ke7uyz9Q=" crossorigin="anonymous" />
<link href="./css/dashboard.css" rel="stylesheet">
</head>
  <body>

  <div class="container">
    <div class="row">
      <nav class="col-md-2 d-none d-md-block bg-light sidebar">
        <div class="sidebar-sticky">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a id="code-snippets" class="nav-link " href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                  Snippets
              </a>
            </li>
            <li class="nav-item">
              <a  id="executed"class="nav-link" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                Current exec
              </a>
            </li>


          </ul>

          <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Links</span>
            <a class="d-flex align-items-center text-muted" >
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
            </a>
          </h6>

        </div>
      </nav>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">


        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1>Racket (<span class="lclass">Define</span> Lisp.me)</h1>
            <a class="content"></a>

        </div>

        <div class="sp-label">
          <textarea id="sicp" type="text" name="sicp" autocomplete="off"></textarea>

          <button class="mybutton">Get data</button>
        </div>
        <div id="snips" style="display:none;">
          <pre>
            <code class="racket hljs">
              <div  id="code">
    #lang racket
    (define empty-board '())

    (define (adjoin-position row col board)
        (cons (list row col) board))

    (define (row board)
        (map car board))

    (define (col board)
        (map cadr board))

    (define (safe? k board)
        (define (member-test val seq)
            (cond ((null? seq) true)
                  ((= val (car seq)) false)
                  (else (member-test val (cdr seq)))))
        (define (comparison-test seq1 seq2)
            (cond ((null? seq1) true)
                  ((= (car seq1) (car seq2)) false)
                  (else (comparison-test (cdr seq1) (cdr seq2)))))
        (let ((rows (row board))
              (cols (col board)))
             (and (member-test (car rows) (cdr rows))
                  (member-test (car cols) (cdr cols))
                  (comparison-test (map (lambda (i) (abs (- i (car rows))))
                                        (cdr rows))
                                   (map (lambda (i) (abs (- i (car cols))))
                                        (cdr cols))))))
    (define (accumulate op initial sequence)
      (if (null? sequence)
       initial
       (op (car sequence)
         (accumulate op initial (cdr sequence)))))

    (define (flatmap proc seq)
      (accumulate append '() (map proc seq)))

    (define (enumerate-interval low high)
      (if (> low high)
          '()
          (cons low
            (enumerate-interval (+ low 1) high))))

    (define (queens board-size)
        (define (queen-cols k)
            (if (= k 0)
                (list empty-board)
                (filter
                 (lambda (positions) (safe? k positions))
                 (flatmap
                  (lambda (rest-of-queens)
                      (map (lambda (new-row)
                               (adjoin-position new-row
                                                k
                                                rest-of-queens))
                           (enumerate-interval 1 board-size)))
                  (queen-cols (- k 1))))))
        (queen-cols board-size))

        (queens 5)
      </div>

    </code>
      </pre>
        </div>

      </main>
    </div>
  </div>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

  <script src="./js/bootstrap.min.js"></script>
  <script src="./js/jquery-highlighttextarea3.1.3jquery.highlighttextarea.js"></script>

  <script type="text/javascript">
  //
  hljs.initHighlightingOnLoad();
  //

  // $('textarea#sicp').bind('input', function(){
    $('textarea#sicp').highlightTextarea({
      words: [{
        color: '#d5d8f6',
        caseSensitive:true,

        words: ['define', 'Define', 'lambda', 'let', 'cond', 'if', 'else']
        }]
      });
  // });

//

   $( "#code-snippets" ).click(function() {
   $( "#snips" ).css('display', 'block');
 });
 $( "#executed" ).click(function() {
 $( "#snips" ).css('display', 'none');
});


   const btn = document.querySelector('.mybutton');
   btn.addEventListener('click', getData);
   function getData(e){
       $.ajax({
       url : '/sicp',
       method : 'GET',
       data : { sicp: $("input[name='sicp']").val() },
       success : function(data){
         // content
          $(".content").html(data);
          console.log(data);
       },

       error: function(err){
         console.log('Failed');
       }
    });
   }
  </script>

  </body>
</html>
